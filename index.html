<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>For You ðŸ’™</title>

<style>
body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(to bottom right, #a18cd1, #fbc2eb);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    font-family: 'Segoe UI', sans-serif;
}

/* ---------------- RAIN ---------------- */

.rain {
    position: fixed;
    width: 100%;
    height: 100%;
    pointer-events: none;
    top: 0;
    left: 0;
    z-index: 1;
}

.drop {
    position: absolute;
    width: 2px;
    background: rgba(255,255,255,0.6);
    border-radius: 50%;
}

.splash {
    position: absolute;
    width: 10px;
    height: 5px;
    border: 2px solid rgba(255,255,255,0.6);
    border-radius: 50%;
    opacity: 0.8;
    animation: splashAnim 0.4s ease-out forwards;
}

@keyframes splashAnim {
    from { transform: scale(0.5); opacity: 0.8; }
    to { transform: scale(1.5); opacity: 0; }
}

/* ---------------- BUTTON ---------------- */

.open-btn {
    padding: 14px 30px;
    border: none;
    background: #4361ee;
    color: white;
    border-radius: 25px;
    font-size: 1.2em;
    cursor: pointer;
    margin-bottom: 30px;
    transition: 0.3s;
    z-index: 3;
}

.open-btn:hover {
    background: #3a0ca3;
    transform: scale(1.05);
}

/* ---------------- ENVELOPE ---------------- */

.envelope {
    position: relative;
    width: 500px;
    height: 350px;
    background: white;
    box-shadow: 0 20px 50px rgba(0,0,0,0.3);
    z-index: 3;
}

.envelope::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    border-left: 250px solid transparent;
    border-right: 250px solid transparent;
    border-top: 175px solid #4361ee;
    transform-origin: top;
    transition: transform 1s ease;
}

/* Iris decoration on envelope */
.envelope-iris {
    position: absolute;
    width: 130px;
    bottom: 25px;
    right: 25px;
    z-index: 4;
    transition: opacity 0.8s ease;
}

.open .envelope-iris {
    opacity: 0;
}

/* ---------------- CARD ---------------- */

.card {
    position: absolute;
    width: 460px;
    height: 310px;
    background: white;
    top: 20px;
    left: 20px;
    border-radius: 12px;
    text-align: center;
    padding: 20px;
    opacity: 0;
    transform: translateY(50px);
    transition: all 1s ease 0.8s;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
}

.open::before {
    transform: rotateX(180deg);
}

.open .card {
    opacity: 1;
    transform: translateY(0);
}

/* Image inside card */
.card img {
    width: 80%;
    max-height: 180px;
    object-fit: cover;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

/* Text styling */
.top-text {
    font-size: 1.8em;
    color: #4361ee;
    font-weight: bold;
}

.bottom-text {
    font-size: 1.2em;
    color: #444;
}

/* Glow */
.glow {
    position: absolute;
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 1.5s ease;
    z-index: 2;
}

.showGlow {
    opacity: 1;
}
</style>
</head>

<body>

<div class="rain" id="rain"></div>
<div class="glow" id="glow"></div>

<button class="open-btn" onclick="openValentine()">
    Will You Be My Valentine? ðŸ’™
</button>

<div class="envelope" id="envelope">

    <!-- Iris appears ONLY on envelope -->
    <img class="envelope-iris" src="iris.png" alt="Iris Decoration">

    <div class="card">
        <div class="top-text">Happy Valentines Day!</div>

        <!-- Center Image -->
        <img src="/valentine-lamp/us.png" alt="Us">

        <div class="bottom-text">
           You're an amazing human with the kindest heart, beautiful inside and out. I am so grateful to be your partner.
           ðŸ’™ I LOVE YOU!ðŸ’™
        </div>
    </div>
</div>

<!-- MUSIC -->
<audio id="music" src="music.mp3" loop autoplay></audio>

<script>
const envelope = document.getElementById("envelope");
const glow = document.getElementById("glow");
const music = document.getElementById("music");

/* Autoplay fallback */
window.addEventListener("load", () => {
    music.play().catch(() => {
        document.addEventListener("click", () => {
            music.play();
        }, { once: true });
    });
});

function openValentine() {
    envelope.classList.add("open");
    glow.classList.add("showGlow");
}

/* RAIN SYSTEM */
function createRain() {
    const rainContainer = document.getElementById("rain");

    setInterval(() => {
        const drop = document.createElement("div");
        drop.classList.add("drop");

        const leftPosition = Math.random() * window.innerWidth;
        const fallDuration = Math.random() * 4000 + 4000;

        drop.style.left = leftPosition + "px";
        drop.style.height = Math.random() * 20 + 10 + "px";

        rainContainer.appendChild(drop);

        let start = null;

        function animateDrop(timestamp) {
            if (!start) start = timestamp;
            let progress = timestamp - start;
            let distance = (progress / fallDuration) * window.innerHeight;
            drop.style.top = distance + "px";

            if (progress < fallDuration) {
                requestAnimationFrame(animateDrop);
            } else {
                createSplash(leftPosition);
                drop.remove();
            }
        }

        requestAnimationFrame(animateDrop);

    }, 300);
}

function createSplash(xPosition) {
    const splash = document.createElement("div");
    splash.classList.add("splash");
    splash.style.left = xPosition + "px";
    splash.style.bottom = "0px";
    document.getElementById("rain").appendChild(splash);
    setTimeout(() => splash.remove(), 400);
}

createRain();
</script>

</body>
</html>







